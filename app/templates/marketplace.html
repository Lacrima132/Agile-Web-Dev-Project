{% extends "base.html" %} {% block title %}Marketplace{% endblock %}
{%block content %}

<div class="home">
    <br>
      <h1 class="star-text">Welcome to the Marketplace</h1>
      <p class="description">This marketplace is dedicated to selling weapons.</p>
  <div class="forum-section">
    <div class="post-container">
        <div class="row">
        {% for post in posts %}
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="postbubble">
              <img src="{{ url_for('static', filename='/images/sellpics/' + post.img) }}" alt="weapon img" />
              <div class="screen-overlay overlay-animation">
                <div class="posttext">
                  <div class="posttitle">
                    <a href="/post/{{ post.pid }}">
                      {{ post.title }}
                    </a>
                  </div>
                  <div class="postauthor">
                    <img src="{{ url_for('static', filename='/images/profilepics/' + post.user.avatar) }}" class="small_avatar" alt="avatar" style="width: 10px;"/>
                    {% if post.user.uid != current_user.uid %}
                    <a href= "/view-other-userpf/{{ post.user.uid }}">
                      {{ post.user.username }}
                      {% else %}
                    <a href="/profile">
                      {{ post.user.username }}
                      {% endif %}
                    </a>
                  </div>
                  <div class="postcontent">
                    <p>{{ post.desc }}</p>
                    <p>Price: ${{ post.price }}</p>
                  </div>
                  <button>
                    <a
                      href="{{ url_for('routes.purchase', sid=post.sid) }}"
                      class="purchase-btn"
                    >Purchase
                    </a>
                  </button>
                </div>
                <div class="reactbar">
                  <button id="likeButton" class="reactbutton like" onclick="toggleLike(this, {{ post.pid }})">
                    {% if post.pid in lip %}
                    <i id="likeIcon" class="fa fa-thumbs-up fa-lg"></i>
                    {% else %}
                    <i id="likeIcon" class="fa fa-thumbs-o-up fa-lg"></i>
                    {% endif %}
                  </button>
                  <span id="likeCount" class="reactnumber">{{ post.likes }}</span>
                  <button id="dislikeButton" class="reactbutton" onclick="toggleLike(this, {{ post.pid }})">
                    {% if post.pid in dip %}
                    <i id="dislikeIcon" class="fa fa-thumbs-down fa-lg"></i>
                    {% else %}
                    <i id="dislikeIcon" class="fa fa-thumbs-o-down fa-lg"></i>
                    {% endif %}
                  </button>
                  <span id="dislikeCount" class="reactnumber">{{ post.dislikes }}</span>
                  <button id="commentButton" class="reactbutton">
                    <i class="fa fa-commenting-o fa-lg"></i>
                  </button>
                  <span id="commentCount" class="reactnumber">0</span>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
    </div>
    </div>
  </div>
</div>
{% endblock %}
              

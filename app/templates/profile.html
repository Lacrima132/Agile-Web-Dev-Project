{% extends "base.html" %} {% block title %}{{ user.username }}{% endblock %} {%
block content %}
<div class="intro-section">
  <div class="custom-container">
  <div class="profile-header">
    <img src="../static/images/profileheader.jpg" alt="profile-header" />
    <div class="profile-combine">
      <div class="profile-pic-container">
        <div class="profile-pic">
          <img
            src="../static/images/profilepics/{{ user.avatar }}"
            class="avatar"
            alt="avatar"
          />
        </div>
      </div>
      <div class="profile-details">
        <div class="responsive-header">
          <img
            src="../static/images/ranks/{{ user.rank }}.png"
            class="rank-img responsive-img"
          />
          {{ user.username }}
        </div>
        <form action="{{ url_for('routes.editprofile') }}">
          <input class="btn-edit" type="submit" value="Edit Profile" />
        </form>
      </div>
    </div>
    <div class="profile-header-base"></div>
  </div>
  <div>
    <div>
        <div class="profile-box3"></div>
        <br />
        <p>{{ user.bio }}</p>
        <br />
        <p>
          Posts: {{ num_posts }} Likes: {{ total_likes }} Promotions: {{
          current_user.promote }}
        </p>
      </div>
    </div>
    <br />
    <div class="select-view">
      <button
        class="view-button"
        onclick="openTab(event, 'Posts')"
        id="defaultOpen"
      >
        Posts
      </button>
      <button class="view-button" onclick="openTab(event, 'Purchased')">
        Purchased
      </button>
      <button class="view-button" onclick="openTab(event, 'Bounties Claimed')">
        Bounties Claimed
      </button>
      <button class="view-button" onclick="openTab(event, 'Listings')">
        Listings
      </button>
    </div>
    <br />

    <!-- Tab content -->
    <div id="Posts" class="tabcontent">
      <div class="forum-section">
        <div class="post-container">
          <div class="row">
            {% for item in disc_posts %}
            <div class="col-lg-3 col-md-4 col-sm-6">
              <div class="postbubble">
                <img
                  src="{{ url_for('static', filename='/images/posts/' + item.img) }}"
                  alt="Post Image"
                />
                <div class="screen-overlay overlay-animation">
                  <div class="posttext">
                    <div class="postheader">
                      <div class="posttitle">{{ item.title }}</div>
                      <form
                        action="{{ url_for('routes.delete_post', post_id=item.pid, post_flag = item.flag) }}"
                        method="post"
                      >
                        <input type="hidden" name="_method" value="DELETE" />
                        <button type="submit" class="reactbutton">
                          <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
                        </button>
                      </form>
                    </div>
                    <div class="postcontent">{{ item.desc }}</div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div id="Purchased" class="tabcontent" style="display: none">
      <h3 style="text-align: center">Purchased Posts~</h3>
      <div class="forum-section">
        <div class="post-container">
          <div class="row">
            {% for item in purchased_items %}
            <div class="col-lg-3 col-md-4 col-sm-6">
              <div class="postbubble">
                <img
                  src="{{ url_for('static', filename='/images/sellpics/' + item.img) }}"
                  alt="Post Image"
                />
                <div class="screen-overlay overlay-animation">
                  <div class="posttext">
                    <div class="postheader">
                      <div class="posttitle">{{ item.title }}</div>
                    </div>
                    <div class="postcontent">{{ item.desc }}</div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div id="Bounties Claimed" class="tabcontent" style="display: none">
      <h3 style="text-align: center">Bounties Claimed</h3>
      <div class="forum-section">
        <div class="post-container">
          <div class="row">
            {% for item in bounties_claimed %}
            <div class="col-lg-3 col-md-4 col-sm-6">
              <div class="postbubble">
                <img
                  src="{{ url_for('static', filename='/images/sellpics/' + item.img) }}"
                  alt="Post Image"
                />
                <div class="screen-overlay overlay-animation">
                  <div class="posttext">
                    <div class="postheader">
                      <div class="posttitle">{{ item.title }}</div>
                    </div>
                    <div class="postcontent">{{ item.desc }}</div>
                    <div class="postdetails">
                      <p>Price: {{ item.price }}</p>
                      <p>Status: {{ item.status }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>

    <div id="Listings" class="tabcontent" style="display: none">
      <h3 style="text-align: center">Listings~</h3>
      <div class="forum-section">
        <div class="post-container">
          <div class="row">
            {% for item in sold_items %}
            <div class="col-lg-3 col-md-4 col-sm-6">
              <div class="postbubble">
                <img
                  src="{{ url_for('static', filename='/images/sellpics/' + item.img) }}"
                  alt="Post Image"
                />
                <div class="screen-overlay overlay-animation">
                  <div class="posttext">
                    <div class="postheader">
                      <div class="posttitle">{{ item.title }}</div>
                      <form
                        action="{{ url_for('routes.delete_post', post_id=item.sid, post_flag = item.flag) }}"
                        method="post"
                      >
                        <input type="hidden" name="_method" value="DELETE" />
                        <button type="submit" class="reactbutton">
                          <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
                        </button>
                      </form>
                    </div>
                    <div class="postcontent">{{ item.desc }}</div>
                    <div class="postdetails">
                      <p>Price: {{ item.price }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <br />
</div>
</div>
{% endblock %}
